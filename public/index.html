<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 13 - Bot de Discord</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Aseguramos que los estilos se apliquen directamente en caso de fallo -->
    <style>
        /* Estilos mínimos para garantizar la visualización */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0c;
            color: #fff;
            margin: 0;
            padding: 0;
        }
        .navbar {
            background: rgba(10, 10, 12, 0.8);
            backdrop-filter: blur(10px);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 80px 20px;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-logo">
                <img src="https://r2.fivemanage.com/DuglW0KQ0a14nzVrW4W7j/321fc94981ad95534330d383883b2ec3.png" alt="Project 13 Logo">
                <span>Project 13</span>
            </div>
            <div class="nav-links">
                <a href="#features">Características</a>
                <a href="#commands">Comandos</a>
                <a href="#stats">Estadísticas</a>
                <div id="auth-area"></div>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <img src="https://r2.fivemanage.com/DuglW0KQ0a14nzVrW4W7j/321fc94981ad95534330d383883b2ec3.png" alt="Project 13 Logo" class="hero-logo">
            <h1>Project 13</h1>
            <p>Moderación avanzada, música, tickets y mucho más en un solo bot</p>
            <div class="hero-buttons">
                <a href="https://discord.com/api/oauth2/authorize?client_id=1200476680280608958&permissions=8&scope=bot%20applications.commands" class="primary-button">
                    <i class="fas fa-plus"></i> Añadir al Servidor
                </a>
                <a href="#features" class="secondary-button">
                    <i class="fas fa-info-circle"></i> Más Información
                </a>
            </div>
        </div>
    </header>

    <section id="features" class="features">
        <h2>Características Principales</h2>
        <div class="features-grid">
            <div class="feature-card">
                <i class="fas fa-shield-alt"></i>
                <h3>Moderación Avanzada</h3>
                <p>Sistema completo de moderación con logs, filtros y automod</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-music"></i>
                <h3>Música HD</h3>
                <p>Reproduce música de alta calidad desde YouTube, Spotify y más</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-ticket-alt"></i>
                <h3>Sistema de Tickets</h3>
                <p>Gestiona el soporte de tu servidor con tickets personalizados</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-chart-bar"></i>
                <h3>Estadísticas</h3>
                <p>Analiza la actividad de tu servidor con gráficos detallados</p>
            </div>
        </div>
    </section>

    <section id="commands" class="commands">
        <h2>Comandos Populares</h2>
        <div class="commands-grid">
            <div class="command-card">
                <code>/setup</code>
                <p>Configura el bot en tu servidor</p>
            </div>
            <div class="command-card">
                <code>/play</code>
                <p>Reproduce música en tu canal de voz</p>
            </div>
            <div class="command-card">
                <code>/ticket</code>
                <p>Crea un nuevo ticket de soporte</p>
            </div>
            <div class="command-card">
                <code>/ban</code>
                <p>Banea a usuarios problemáticos</p>
            </div>
        </div>
    </section>

    <section id="stats" class="stats">
        <div class="stats-content">
            <h2>¿Por qué elegir nuestro bot?</h2>
            <div class="stats-grid">
                <div class="stats-card">
                    <i class="fas fa-bolt"></i>
                    <h3>Rápido y Confiable</h3>
                    <p>Tiempo de respuesta inferior a 100ms</p>
                </div>
                <div class="stats-card">
                    <i class="fas fa-lock"></i>
                    <h3>Seguro</h3>
                    <p>Protección contra raids y spam</p>
                </div>
                <div class="stats-card">
                    <i class="fas fa-clock"></i>
                    <h3>24/7 Online</h3>
                    <p>Disponibilidad garantizada</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="https://r2.fivemanage.com/DuglW0KQ0a14nzVrW4W7j/321fc94981ad95534330d383883b2ec3.png" alt="Project 13 Logo">
                <span>Project 13</span>
            </div>
            <div class="footer-links">
                <a href="https://discord.gg/tuserver" target="_blank">
                    <i class="fab fa-discord"></i> Servidor de Soporte
                </a>
                <a href="https://twitter.com/tubot" target="_blank">
                    <i class="fab fa-twitter"></i> Twitter
                </a>
                <a href="#" id="dashboard-link">
                    <i class="fas fa-cog"></i> Dashboard
                </a>
            </div>
            <p class="footer-copyright">© 2025 Mi Bot - Todos los derechos reservados</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const dashboardLink = document.getElementById('dashboard-link');
            const authArea = document.getElementById('auth-area');
            const token = localStorage.getItem('discord_token');
            const userStr = localStorage.getItem('discord_user');

            function buildLoginButton(){
                const a = document.createElement('a');
                a.className = 'login-button';
                a.href = 'https://discord.com/api/oauth2/authorize?client_id=1200476680280608958&redirect_uri=https%3A%2F%2Fproject13-api.vercel.app%2Fapi%2Fcallback&response_type=code&scope=identify%20guilds';
                a.innerHTML = '<i class="fas fa-sign-in-alt"></i> Iniciar Sesión';
                authArea.appendChild(a);
                dashboardLink.href = './login.html';
            }

            function buildUserMenu(user){
                const wrapper = document.createElement('div');
                wrapper.className = 'user-menu';
                const img = document.createElement('img');
                img.className = 'user-avatar-small';
                if(user && user.id && user.avatar){
                    img.src = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`;
                } else {
                    img.src = 'https://via.placeholder.com/32';
                }
                img.style.width = '32px'; img.style.height = '32px'; img.style.borderRadius = '50%'; img.style.marginRight = '8px';
                const name = document.createElement('span');
                name.textContent = user && user.username ? user.username : 'Cuenta';
                name.className = 'user-name';
                wrapper.appendChild(img);
                wrapper.appendChild(name);

                const dropdown = document.createElement('div');
                dropdown.className = 'user-dropdown';
                const dash = document.createElement('a');
                dash.href = './dashboard.html';
                dash.textContent = 'Dashboard';
                dash.style.display = 'block';
                dropdown.appendChild(dash);
                const logout = document.createElement('a');
                logout.href = '#';
                logout.textContent = 'Cerrar sesión';
                logout.style.display = 'block';
                logout.addEventListener('click', function(e){ e.preventDefault(); localStorage.removeItem('discord_token'); localStorage.removeItem('discord_user'); location.reload(); });
                dropdown.appendChild(logout);
                wrapper.appendChild(dropdown);

                authArea.appendChild(wrapper);
                dashboardLink.href = './dashboard.html';
            }

            if(userStr){
                let user;
                try{ user = JSON.parse(userStr); } catch(e){ user = null; }
                buildUserMenu(user);
            } else if(token){
                buildUserMenu(null);
            } else {
                buildLoginButton();
            }

            // Efecto de scroll suave para los enlaces internos
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>